<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>px64 HTML Sanitizer Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container py-4" id="app">
        <h1>px64 HTML Sanitizer Demo</h1>
        <p class="lead">Safe HTML sanitization without Chrome XSS blocking.</p>

        <div class="row">
            <div class="col-md-6">
                <h3>ðŸš¨ UNSAFE: html: binder</h3>
                <textarea class="form-control mb-3" data-bind="value:unsafeContent" rows="4"></textarea>
                <div class="border p-3" data-bind="html:unsafeContent"></div>
            </div>

            <div class="col-md-6">
                <h3>âœ… SAFE: html-safe: binder</h3>
                <textarea class="form-control mb-3" data-bind="value:safeContent" rows="4"></textarea>
                <div class="border p-3" data-bind="html-safe:safeContent"></div>
            </div>
        </div>

        <div class="mt-4">
            <h3>Test Examples</h3>
            <button class="btn btn-danger btn-sm" data-bind="tap:loadDangerous">Load Dangerous HTML</button>
            <button class="btn btn-success btn-sm" data-bind="tap:loadSafe">Load Safe HTML</button>
            <button class="btn btn-secondary btn-sm" data-bind="tap:clear">Clear</button>
        </div>

        <div class="alert alert-info mt-4">
            <strong>Note:</strong> The sanitizer removes dangerous tags like &lt;script&gt;, event handlers, and
            javascript: URLs while preserving safe formatting.
        </div>
    </div>

    <script src="../dist/px64.js"></script>
    <script>
        const demoState = px64.observable({
            unsafeContent: '<p>Type or paste HTML here...</p>',
            safeContent: '<p>Type or paste HTML here...</p>',

            loadDangerous() {
                const dangerous = '<style>body{background:red}</style><p>Dangerous content</p><object data="evil.swf"></object>';
                this.$set('unsafeContent', dangerous);
                this.$set('safeContent', dangerous);
            },

            loadSafe() {
                const safe = '<h4>Safe Content</h4><p>This is <strong>bold</strong> and <em>italic</em> text with a <a href="https://example.com">link</a>.</p>';
                this.$set('unsafeContent', safe);
                this.$set('safeContent', safe);
            },

            clear() {
                this.$set('unsafeContent', '');
                this.$set('safeContent', '');
            }
        });

        px64.bind('#app', demoState);
    </script>
</body>

</html>
